{% extends 'base.html' %} {% block title %} Book Details {% endblock %} {% block
body %}
<div class="container mt-5">
    <div class="row">
        <div class="col-2 img-fluid">
            <div class="row">
                <img src="{{book.cover}}" />
            </div>
        </div>
        <div class="col-10">
            <div class="row">
                <div class="col-12 h4">
                    <strong>{{book.title}}</strong>
                </div>
            </div>
            <div class="row">
                <div class="col-4">{{book.authors}}</div>
            </div>
            <div class="row">
                <div class="col-4">Total {{book.page_count}} pages</div>
            </div>

            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <p
                        class="nav-link active"
                        aria-current="book description"
                        id="book-description"
                    >
                        Description
                    </p>
                </li>
                <li class="nav-item">
                    <p class="nav-link" id="book-statistics">Statistics</p>
                </li>
                <li class="nav-item">
                    <p
                        class="nav-link"
                        data-book="{{book.api_id}}"
                        id="book-comments"
                    >
                        Public Comments
                    </p>
                </li>
                <li class="nav-item">
                    <p
                        class="nav-link"
                        data-book="{{book.api_id}}"
                        id="book-addcomment"
                    >
                        Add comment
                    </p>
                </li>
            </ul>
            <div id="div-description">
                <div class="row mt-3">
                    <div class="col-12">
                        <small> {{book.description | safe}} </small>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <small>
                            <strong> Categories : </strong> {{book.categories}}
                        </small>
                    </div>
                </div>
            </div>

            <div id="div-statistics" hidden>
                <form method="POST">
                    {{ statform.hidden_tag() }} {% for field in statform if
                    field.widget.input_type != 'hidden'%}
                    <div class="row">
                        <div class="col">{{field.label}}</div>
                        <div class="col">
                            {{field}} {% for error in field.errors %}
                            <span class="text-danger">{{ error }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {%endfor%}
                    <div class="edit-btn-area">
                        <button
                            type="submit"
                            name="submit"
                            value="statform"
                            class="btn btn-success"
                        >
                            Save
                        </button>
                    </div>
                </form>
            </div>
            <div id="div-comments" hidden>
                <ul id="ul-comments" class="list-group list-group-flush"></ul>
            </div>
            <div id="div-addcomment" hidden>
                <form method="POST">
                    {{ commentform.hidden_tag() }} {% for field in commentform
                    if field.widget.input_type != 'hidden'%}
                    <div class="row">
                        <div class="col-4">{{field.label}}</div>
                        <div class="col-8">
                            {{field}} {% for error in field.errors %}
                            <span class="text-danger">{{ error }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {%endfor%}
                    <div class="edit-btn-area">
                        <button
                            type="submit"
                            name="submit"
                            value="commentform"
                            class="btn btn-success"
                        >
                            Save
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="/static/user_book_page.js"></script>
<script src="/static/comments.js"></script>
{% endblock %}
